(()=>{"use strict";var e=document.querySelector("#popup-edit"),t=document.querySelector("#popup-edit-button"),n=document.querySelector("#profile-edit-button"),o=document.querySelector("#popup-add"),r=document.querySelector("#popup-add-button"),c=document.querySelector("#profile-add-button"),u=document.querySelector(".profile__name"),p=document.querySelector(".profile__hobby"),i=document.querySelector("#popup-name"),d=document.querySelector("#popup-description"),a=(document.querySelector("#popup-save"),document.querySelector("#element-template").content),l=document.querySelector(".popup__image"),s=document.querySelector(".popup__place"),m=document.querySelector("#image-popup"),v=document.querySelector(".elements"),f=document.querySelector("#popup-image-button"),y=document.querySelector("#popup-input-heading"),_=document.querySelector("#popup-input-picture"),q=(document.querySelector("#popup-create"),document.querySelector("#popup-edit-form")),S=document.querySelector("#popup-add-form"),k=document.querySelectorAll(".popup"),L=(document.querySelector(".popup__form").querySelector(".popup__input"),function(e,t){!function(e){return e.some((function(e){return!e.validity.valid}))}(e)?(t.classList.remove("popup__button_deactiv"),t.disabled=!1):(t.classList.add("popup__button_deactiv"),t.disabled=!0)}),E=function(){Array.from(document.querySelectorAll(".popup__form")).forEach((function(e){e.addEventListener("submit",(function(e){e.preventDefault()})),function(e){var t=Array.from(e.querySelectorAll(".popup__input")),n=e.querySelector(".popup__button");L(t,n),t.forEach((function(o){o.addEventListener("input",(function(){!function(e,t){t.validity.valid?function(e,t){var n=e.querySelector(".".concat(t.id,"-error"));t.classList.remove("form__input_type_error"),n.classList.remove("popup__input-error_activ"),n.textContent=""}(e,t):function(e,t,n){var o=e.querySelector(".".concat(t.id,"-error"));t.classList.add("form__input_type_error"),o.textContent=n,o.classList.add("popup__input-error_activ")}(e,t,t.validationMessage)}(e,o),L(t,n)}))}))}(e)}))};E();var b=function(e){e.classList.add("popup_opened"),document.addEventListener("keydown",h)},g=function(e){e.classList.remove("popup_opened"),document.removeEventListener("keydown",h)},h=function(e){if("Escape"===e.key){var t=document.querySelector(".popup_opened");g(t)}},x=function(e){e.forEach((function(e){v.prepend(function(e,t){var n=a.querySelector(".element").cloneNode(!0),o=n.querySelector(".element__trash"),r=n.querySelector(".element__image"),c=n.querySelector(".element__title"),u=n.querySelector(".element__like-button");return o.addEventListener("click",(function(){n.remove()})),r.src=e,r.addEventListener("click",(function(){l.src=e,l.alt=t,s.textContent=t,b(m)})),c.textContent=t,u.addEventListener("click",(function(){u.classList.toggle("element__like-button_active")})),n}(e.link,e.name))}))};x([{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}]),q.addEventListener("submit",(function(t){t.preventDefault(),u.textContent=i.value,p.textContent=d.value,g(e)})),S.addEventListener("submit",(function(e){e.preventDefault();var t={name:y.value,link:_.value};g(o),x([t]),y.value="",_.value=""})),t.addEventListener("click",(function(){g(e)})),n.addEventListener("click",(function(){b(e)})),r.addEventListener("click",(function(){g(o)})),c.addEventListener("click",(function(){b(o)})),f.addEventListener("click",(function(){g(m)})),n.addEventListener("click",(function(){b(e),i.value=u.textContent,d.value=p.textContent})),t.addEventListener("click",(function(){g(e)})),k.forEach((function(e){e.addEventListener("click",(function(e){e.target===e.currentTarget&&g(e.currentTarget)}))})),E()})();